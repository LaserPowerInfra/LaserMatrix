<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="utf-8" />
Â  <title>Laser Matrix â€” 3D Header + Video Background</title>
Â  <meta name="viewport" content="width=device-width,initial-scale=1" />
Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

Â  <style>
Â  Â  :root{
Â  Â  Â  --sidebar-w:220px;
Â  Â  Â  --accent:#1abc9c;
Â  Â  Â  --dark:#2c3e50;
Â  Â  Â  --muted:#34495e;
Â  Â  }

Â  Â  html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
Â  Â  body{display:flex;overflow:hidden;background:#f2f4f6;color:#222;}

Â  Â  .sidebar{
Â  Â  Â  width:var(--sidebar-w);
Â  Â  Â  min-width:var(--sidebar-w);
Â  Â  Â  background:var(--dark);
Â  Â  Â  color:#fff;
Â  Â  Â  padding:18px;
Â  Â  Â  box-sizing:border-box;
Â  Â  Â  display:flex;
Â  Â  Â  flex-direction:column;
Â  Â  Â  gap:8px;
Â  Â  Â  flex-shrink:0;
Â  Â  }
Â  Â  .sidebar h2{margin:0 0 8px 0;text-align:center;color:var(--accent);font-size:18px}
Â  Â  .sidebar button{
Â  Â  Â  display:flex;align-items:center;gap:10px;
Â  Â  Â  background:var(--muted);color:#fff;border:0;padding:10px;border-radius:8px;cursor:pointer;
Â  Â  Â  font-size:15px;text-align:left;
Â  Â  }
Â  Â  .sidebar button:hover{background:var(--accent); color:#063; box-shadow:0 6px 18px rgba(26,188,156,0.12);}
Â  Â  .sidebar .spacer{flex-grow:1}
Â  Â  .sidebar .count{background:rgba(255,255,255,0.06);padding:8px;border-radius:6px;text-align:center;font-size:13px}

Â  Â  .main {
Â  Â  Â  flex:1;
Â  Â  Â  position:relative;
Â  Â  Â  overflow:hidden;
Â  Â  Â  display:flex;
Â  Â  Â  flex-direction:column;
Â  Â  Â  background:#fff;
Â  Â  }

Â  Â  .hero {
Â  Â  Â  position:relative;
Â  Â  Â  flex:1 0 auto;
Â  Â  Â  min-height:360px;
Â  Â  Â  perspective:1200px;
Â  Â  Â  overflow:hidden;
Â  Â  Â  background:#000;
Â  Â  }

Â  Â  .hero video{
Â  Â  Â  position:absolute;inset:0;width:100%;height:100%;object-fit:cover;
Â  Â  Â  -webkit-filter:brightness(0.7) saturate(1.05);filter:brightness(0.7) saturate(1.05);
Â  Â  }

Â  Â  .hero .overlay-top{
Â  Â  Â  position:absolute;
Â  Â  Â  top:28px;
Â  Â  Â  left:50%;
Â  Â  Â  transform:translateX(-50%);
Â  Â  Â  width:calc(100% - var(--sidebar-w) - 60px);
Â  Â  Â  max-width:1200px;
Â  Â  Â  pointer-events:none;
Â  Â  Â  text-align:center;
Â  Â  Â  z-index:5;
Â  Â  }

Â  Â  /* WELCOME TO white 3D */
Â  Â  .sub-title{
Â  Â  Â  display:block;
Â  Â  Â  font-weight:700;
Â  Â  Â  letter-spacing:2px;
Â  Â  Â  color:rgba(255,255,255,0.95);
Â  Â  Â  text-shadow:0 2px 6px rgba(0,0,0,0.5);
Â  Â  Â  font-size:20px;
Â  Â  Â  margin-bottom:8px;
Â  Â  }

Â  Â  /* LASER MATRIX light blue â†’ light red gradient 3D */
Â  Â  .three-d {
Â  Â  Â  display:inline-block;
Â  Â  Â  line-height:1;
Â  Â  Â  font-weight:900;
Â  Â  Â  letter-spacing:2px;
Â  Â  Â  text-transform:uppercase;
Â  Â  Â  font-family: "Poppins", "Montserrat", Arial, sans-serif;
Â  Â  Â  background: linear-gradient(180deg, #85d7ff, #ff7b91);
Â  Â  Â  -webkit-background-clip:text;
Â  Â  Â  background-clip:text;
Â  Â  Â  color:transparent;
Â  Â  Â  font-size:56px;
Â  Â  Â  -webkit-text-stroke: 1px rgba(10,10,10,0.12);
Â  Â  Â  transform-origin:center top;
Â  Â  Â  transform: translateZ(40px) rotateX(6deg);
Â  Â  Â  display:block;
Â  Â  Â  margin:0 auto;
Â  Â  }

Â  Â  .three-d::after{
Â  Â  Â  content:attr(data-text);
Â  Â  Â  position:absolute;
Â  Â  Â  left:0; top:0;
Â  Â  Â  z-index:-1;
Â  Â  Â  color:rgba(0,0,0,0.15);
Â  Â  Â  transform: translate(8px,14px) skewX(-6deg) scaleY(1);
Â  Â  Â  filter:blur(0.5px);
Â  Â  Â  -webkit-mask-image: linear-gradient(#000, transparent);
Â  Â  Â  pointer-events:none;
Â  Â  }

Â  Â  @media (max-width:1000px){
Â  Â  Â  .three-d{font-size:40px}
Â  Â  Â  .hero .overlay-top{top:20px}
Â  Â  }
Â  Â  @media (max-width:700px){
Â  Â  Â  .three-d{font-size:28px}
Â  Â  Â  .sub-title{font-size:14px}
Â  Â  Â  .hero{min-height:320px}
Â  Â  }

Â  Â  .panel {
Â  Â  Â  background:#f7f8fa;
Â  Â  Â  padding:18px;
Â  Â  Â  overflow:auto;
Â  Â  Â  height:360px;
Â  Â  }

Â  Â  .db-header { background:#fff;padding:10px;border-bottom:1px solid #e3e7ea;display:flex;align-items:center;justify-content:space-between;gap:12px; }
Â  Â  .db-header input{padding:8px;border-radius:6px;border:1px solid #d6dbe0;width:220px}
Â  Â  .db-item{display:flex;align-items:center;background:#fff;padding:8px;border-radius:6px;margin:8px 0;border:1px solid #e6ebee}
Â  Â  .db-list{max-height:260px;overflow:auto;padding:10px}
Â  Â  .table-wrap{background:#fff;padding:12px;border-radius:8px;border:1px solid #e6ebee}
Â  Â  table{width:100%;border-collapse:collapse}
Â  Â  th,td{border:1px solid #e6ebee;padding:8px;text-align:left;font-size:13px}
Â  Â  th{background:#f4f6f8;position:sticky;top:0}
Â  Â  .pagination{margin-top:12px;text-align:center}
Â  Â  .btn{background:var(--muted);color:#fff;padding:8px 12px;border-radius:6px;border:0;cursor:pointer}
Â  Â  .btn:hover{background:var(--accent)}
Â  </style>
</head>
<body>

Â  <aside class="sidebar" role="navigation" aria-label="Main menu">
Â  Â  <h2>ğŸ“‚ Menu</h2>
Â  Â  <button onclick="goHome()">ğŸ  Home</button>
Â  Â  <button onclick="openDatabases()">ğŸ“Š Databases</button>
Â  Â  <button onclick="openForms()">ğŸ“ Forms</button>
Â  Â  <div class="spacer"></div>
Â  Â  <div class="count" id="dbCount">0 Databases</div>
Â  </aside>

Â  <main class="main" id="main">
Â  Â  <section class="hero" id="hero">
Â  Â  </section>

Â  Â  <section id="panelArea" class="panel" aria-live="polite" style="display:none;">
Â  Â  </section>
Â  </main>

Â  <div id="popupMenu" style="position:absolute;display:none;background:#fff;border:1px solid #ddd;border-radius:6px;box-shadow:0 6px 20px rgba(0,0,0,0.12);min-width:140px;z-index:30">
Â  Â  <div style="padding:8px;cursor:pointer" onclick="renameDatabase()">ğŸ“ Rename</div>
Â  Â  <div style="padding:8px;cursor:pointer" onclick="deleteDatabase()">ğŸ—‘ Delete</div>
Â  </div>

<script>
Â  let databases = JSON.parse(localStorage.getItem("databases") || "{}");
Â  const dbCountElem = document.getElementById('dbCount');
Â  const hero = document.getElementById('hero');
Â  const panelArea = document.getElementById('panelArea');

Â  function updateDbCount(){ dbCountElem.textContent = Object.keys(databases).length + " Databases"; }
Â  updateDbCount();

Â  function renderHeroOverlay(){
Â  Â  return `
Â  Â  Â  <div class="overlay-top" aria-hidden="true">
Â  Â  Â  Â  <div class="sub-title">WELCOME TO</div>
Â  Â  Â  Â  <div class="three-d" data-text="LASER MATRIX">LASER MATRIX</div>
Â  Â  Â  </div>
Â  Â  `;
Â  }

Â  function goHome(){
Â  Â  panelArea.style.display = 'none';
Â  Â  hero.innerHTML = `
Â  Â  Â  <video autoplay muted loop playsinline>
Â  Â  Â  Â  <source src="https://laserpowerinfra.com/frontassets/img/slider/Banner_v04_HD_L.mp4" type="video/mp4">
Â  Â  Â  Â  Your browser does not support the video tag.
Â  Â  Â  </video>
Â  Â  Â  ${renderHeroOverlay()}
Â  Â  `;
Â  }

Â  function openForms(){
Â  Â  hero.innerHTML = '';
Â  Â  panelArea.style.display = 'block';
Â  Â  panelArea.innerHTML = `<div style="font-weight:700;margin-bottom:10px">Forms</div>
Â  Â  Â  <div style="background:#fff;padding:12px;border-radius:8px">Forms functionality will go here.</div>`;
Â  }

Â  let dbPage = 1, dbPerPage = 10, currentPopupDB = null;

Â  function openDatabases(page=1, searchTerm=''){
Â  Â  hero.innerHTML = '';
Â  Â  panelArea.style.display = 'block';
Â  Â  const all = Object.keys(databases).filter(n => n.toLowerCase().includes((searchTerm||'').toLowerCase()));
Â  Â  const total = all.length;
Â  Â  const totalPages = Math.max(1, Math.ceil(total/dbPerPage));
Â  Â  page = Math.min(Math.max(1,page), totalPages);
Â  Â  dbPage = page;
Â  Â  const start = (page-1)*dbPerPage;
Â  Â  const slice = all.slice(start, start + dbPerPage);

Â  Â  let html = `
Â  Â  Â  <div class="db-header">
Â  Â  Â  Â  <div style="display:flex;align-items:center;gap:12px">
Â  Â  Â  Â  Â  <input id="dbSearchInput" placeholder="Search databases..." value="${escapeHtml(searchTerm)}" oninput="searchDatabases(this.value)">
Â  Â  Â  Â  Â  <div style="font-size:13px;color:#666">Total: ${total}</div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  <button class="btn" onclick="showImportForm()">â• Add Database</button>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>

Â  Â  Â  <div class="db-list">
Â  Â  Â  Â  ${slice.length? slice.map(name => `
Â  Â  Â  Â  Â  Â  <div class="db-item">
Â  Â  Â  Â  Â  Â  Â  <div style="margin-right:10px;cursor:pointer" onclick="showMenu(event, '${escapeJs(name)}')">â‹®</div>
Â  Â  Â  Â  Â  Â  Â  <div style="flex:1;cursor:pointer" onclick="openDatabase('${escapeJs(name)}')">ğŸ“Š ${escapeHtml(name)}</div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  `).join('') : `<div style="padding:12px;background:#fff;border-radius:6px">No databases found.</div>`}
Â  Â  Â  </div>

Â  Â  Â  <div class="pagination">
Â  Â  Â  Â  <button class="btn" onclick="openDatabases(${page-1}, document.getElementById('dbSearchInput')?.value||'')" ${page===1? 'disabled':''}>â¬… Prev</button>
Â  Â  Â  Â  <span style="margin:0 10px">Page ${page} of ${totalPages}</span>
Â  Â  Â  Â  <button class="btn" onclick="openDatabases(${page+1}, document.getElementById('dbSearchInput')?.value||'')" ${page===totalPages? 'disabled':''}>Next â¡</button>
Â  Â  Â  </div>
Â  Â  `;
Â  Â  panelArea.innerHTML = html;
Â  }

Â  function searchDatabases(val){ openDatabases(1, val); }

Â  function showImportForm(){
Â  Â  hero.innerHTML = '';
Â  Â  panelArea.style.display = 'block';
Â  Â  panelArea.innerHTML = `
Â  Â  Â  <div style="font-weight:700;margin-bottom:12px">Add Database</div>
Â  Â  Â  <div style="background:#fff;padding:12px;border-radius:8px">
Â  Â  Â  Â  <div style="margin-bottom:12px">
Â  Â  Â  Â  Â  <label><strong>From CSV</strong></label><br>
Â  Â  Â  Â  Â  <input type="file" id="csvFile" accept=".csv">
Â  Â  Â  Â  Â  <button class="btn" style="margin-left:8px" onclick="importCSV()">Upload</button>
Â  Â  Â  Â  Â  <div id="statusBox" style="margin-top:8px"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  <label><strong>From Google Sheet</strong></label><br>
Â  Â  Â  Â  Â  <input type="text" id="sheetUrl" placeholder="Paste Google Sheet link here" style="width:60%">
Â  Â  Â  Â  Â  <button class="btn" onclick="importGoogleSheet()">Add</button>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  `;
Â  }

Â  function importCSV(){
Â  Â  const fi = document.getElementById('csvFile');
Â  Â  const status = document.getElementById('statusBox');
Â  Â  status.textContent = '';
Â  Â  if(!fi || !fi.files || !fi.files.length){ status.textContent = 'âš ï¸ Select a CSV file'; return; }
Â  Â  const file = fi.files[0];
Â  Â  const dbName = file.name.replace(/\.csv$/i,'') || ('csvdb_' + Date.now());
Â  Â  status.textContent = 'â³ Parsing...';
Â  Â  Papa.parse(file, {
Â  Â  Â  header:true, skipEmptyLines:true, complete(res){
Â  Â  Â  Â  const fields = res.meta.fields || [];
Â  Â  Â  Â  const rows = res.data || [];
Â  Â  Â  Â  databases[dbName] = {
Â  Â  Â  Â  Â  type:'csv',
Â  Â  Â  Â  Â  headers: fields.map(h => ({name:h, type:'Text'})),
Â  Â  Â  Â  Â  rows: rows.map(r => fields.map(f => r[f] || ''))
Â  Â  Â  Â  };
Â  Â  Â  Â  localStorage.setItem('databases', JSON.stringify(databases));
Â  Â  Â  Â  updateDbCount();
Â  Â  Â  Â  status.textContent = `âœ… Imported ${rows.length} rows as "${dbName}"`;
Â  Â  Â  Â  openDatabases();
Â  Â  Â  },
Â  Â  Â  error(err){
Â  Â  Â  Â  status.textContent = 'âŒ Failed: ' + (err.message || 'parse error');
Â  Â  Â  }
Â  Â  });
Â  }

Â  function importGoogleSheet(){
Â  Â  const url = document.getElementById('sheetUrl').value.trim();
Â  Â  if(!url){ alert('Paste Google Sheet url'); return; }
Â  Â  const name = 'GoogleSheetDB_' + Date.now();
Â  Â  databases[name] = { type:'gsheet', url:url, headers:[], rows:[] };
Â  Â  localStorage.setItem('databases', JSON.stringify(databases));
Â  Â  updateDbCount();
Â  Â  openDatabases();
Â  }

Â  async function openDatabase(dbName, page=1){
Â  Â  const db = databases[dbName];
Â  Â  if(!db){ alert('DB not found'); return; }
Â  Â  if(db.type === 'gsheet' && db.url){
Â  Â  Â  let csvUrl = db.url;
Â  Â  Â  if(db.url.includes('/edit')) csvUrl = db.url.replace('/edit','/gviz/tq?tqx=out:csv');
Â  Â  Â  else if(db.url.includes('output=csv')) csvUrl = db.url;
Â  Â  Â  else if(db.url.includes('/pub')) csvUrl = db.url.includes('output=csv') ? db.url : db.url.replace('/pub','/pub?output=csv');
Â  Â  Â  try{
Â  Â  Â  Â  const r = await fetch('https://api.allorigins.win/raw?url=' + encodeURIComponent(csvUrl));
Â  Â  Â  Â  const txt = await r.text();
Â  Â  Â  Â  const parsed = Papa.parse(txt, { header:true, skipEmptyLines:true });
Â  Â  Â  Â  db.headers = parsed.meta.fields.map(f=>({name:f,type:'Text'}));
Â  Â  Â  Â  db.rows = parsed.data.map(row => db.headers.map(h => row[h.name] || ''));
Â  Â  Â  Â  databases[dbName] = db;
Â  Â  Â  Â  localStorage.setItem('databases', JSON.stringify(databases));
Â  Â  Â  }catch(e){ console.warn('gsheet fetch failed', e); }
Â  Â  }

Â  Â  const rowsPerPage = 100;
Â  Â  const start = (page-1)*rowsPerPage;
Â  Â  const end = start + rowsPerPage;
Â  Â  const totalPages = Math.max(1, Math.ceil((db.rows||[]).length / rowsPerPage));

Â  Â  const tableHtml = `
Â  Â  Â  <div style="font-weight:700;margin-bottom:12px">${escapeHtml(dbName)}</div>
Â  Â  Â  <div class="table-wrap">
Â  Â  Â  Â  <div style="overflow:auto;max-height:420px">
Â  Â  Â  Â  Â  <table>
Â  Â  Â  Â  Â  Â  <thead><tr>${(db.headers||[]).map(h => `<th>${escapeHtml(h.name)}</th>`).join('')}</tr></thead>
Â  Â  Â  Â  Â  Â  <tbody>
Â  Â  Â  Â  Â  Â  Â  ${(db.rows||[]).slice(start,end).map(r => `<tr>${r.map(c => `<td>${escapeHtml(String(c||''))}</td>`).join('')}</tr>`).join('')}
Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="pagination">
Â  Â  Â  Â  Â  <button class="btn" onclick="openDatabase('${escapeJs(dbName)}',${page-1})" ${page===1? 'disabled':''}>â¬… Prev</button>
Â  Â  Â  Â  Â  <span style="margin:0 8px">Page ${page} of ${totalPages}</span>
Â  Â  Â  Â  Â  <button class="btn" onclick="openDatabase('${escapeJs(dbName)}',${page+1})" ${page===totalPages? 'disabled':''}>Next â¡</button>
Â  Â  Â  Â  Â  <div style="margin-top:10px">Go to page: <input type="number" min="1" max="${totalPages}" value="${page}" onchange="jumpToPage('${escapeJs(dbName)}', this.value)"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  `;

Â  Â  panelArea.style.display = 'block';
Â  Â  hero.innerHTML = '';
Â  Â  panelArea.innerHTML = tableHtml;
Â  }
Â  function jumpToPage(dbName,val){ const p = parseInt(val); if(p>0) openDatabase(dbName,p); }

Â  function showMenu(ev, dbName){
Â  Â  ev.stopPropagation();
Â  Â  currentPopupDB = dbName;
Â  Â  const menu = document.getElementById('popupMenu');
Â  Â  menu.style.display='block';
Â  Â  menu.style.left = (ev.clientX - 10) + 'px';
Â  Â  menu.style.topÂ  = (ev.clientY + 6) + 'px';
Â  }
Â  document.addEventListener('click', ()=> document.getElementById('popupMenu').style.display='none');

Â  function renameDatabase(){
Â  Â  const newName = prompt('Enter new name for database', currentPopupDB);
Â  Â  if(!newName) return;
Â  Â  if(databases[newName]){ alert('Name already exists'); return; }
Â  Â  databases[newName] = databases[currentPopupDB];
Â  Â  delete databases[currentPopupDB];
Â  Â  localStorage.setItem('databases', JSON.stringify(databases));
Â  Â  updateDbCount();
Â  Â  openDatabases();
Â  }
Â  function deleteDatabase(){
Â  Â  if(!confirm('Delete database "'+currentPopupDB+'" ?')) return;
Â  Â  delete databases[currentPopupDB];
Â  Â  localStorage.setItem('databases', JSON.stringify(databases));
Â  Â  updateDbCount();
Â  Â  openDatabases();
Â  }

Â  function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }
Â  function escapeJs(s){ return String(s).replace(/\\/g,'\\\\').replace(/'/g,"\\'").replace(/"/g,'\\"'); }

Â  goHome();
Â  updateDbCount();
</script>
</body>
</html>